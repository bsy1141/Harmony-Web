<html>
    <head>
        <meta charset="UTF-8" />
        <link rel="stylesheet" href="projectStyle.css">
    </head>

    <body>
        <button id="open">프로젝트 추가</button>
        <div id="addProject" class="modal-wrapper" style="display: none">
			<div class="modal">

                <div>
                    <p class="title">프로젝트 추가</p>         
                </div>
                <div>        
                    <input type="image" id="close" src="../image/close.png" class="closeButton">   
                </div>
        
                <hr class="line">
        
        
                <div style="float: left; margin-left: 37px;">
                    <p class="subTitle">메인 이미지</p>
        
                    <div class="picture">
                        <input type="image" id="picture" src="../image/directory.png" class="pictureButton">
						<input type="file" id="upImgFile" onChange="uploadImgPreview();" accept="image/*" style="display: none;">
						<img id="thumbnailImg" src="" class="preview">
                    </div>       
            
                    <p class="subTitle" style="margin-top: 28px;">제목</p>
            
                    <textarea name="activityName" placeholder="프로젝트명을 입력하세요." 
                    class="editBox" style="height: 56px;"></textarea>
        
            
                </div>
                
        
                <div style="float: left; margin-left: 37px;">
                    <p class="subTitle">개요</p>
        
                    <textarea type="text" name="activityText" placeholder="프로젝트에 대해 간단하게 소개해보세요." 
                    class="editBox" style="height: 123px;"></textarea>
            
                    <p class="subTitle">태그</p>
                    <textarea type="text" name="activityTag" placeholder="태그를 입력하세요." 
                    class="editBox" style="height: 56px;"></textarea>
            
                    <div>
                        <p class="subTitle">시작</p>
                        <div>
                            <div class="selectbox" style="width: 130px; float: left; margin-bottom: 17px;">
                                <label for="select_year">YY</label>
                                <select name="year" id="select_year">
                                    <option selected value="none">YY</option>
                                    <option value="01">01</option>
                                    <option value="00">00</option>
                                    <option value="99">99</option>
                                    <option value="98">98</option>
                                    <option value="97">97</option>
                                </select>
                            </div>
                            <div class="selectbox" style="margin-left: 17px; width: 68px; float: left;">
                                <label for="select_month">MM</label>
                                <select name="month" id="select_month">
                                    <option selected value="none">MM</option>
                                    <option value="01">01</option>
                                    <option value="02">02</option>
                                    <option value="03">03</option>
                                    <option value="04">04</option>
                                    <option value="05">05</option>
                                    <option value="06">06</option>
                                    <option value="07">07</option>
                                    <option value="08">08</option>
                                    <option value="09">09</option>
                                    <option value="10">10</option>
                                    <option value="11">11</option>
                                    <option value="12">12</option>
                                </select>
                            </div>
        
                            <div class="selectbox" style="margin-left: 17px; width: 68px; float: left;">
                                <label for="select_day">DD</label>
                                <select name="day" id="select_day">
                                    <option selected value="none">DD</option>
                                    <option value="01">01</option>
                                    <option value="02">02</option>
                                    <option value="03">03</option>
                                    <option value="04">04</option>
                                    <option value="06">05</option>
                                </select>
                            </div>
                        </div>                
                    </div>
        
                    <div>
                        <p class="subTitle" style="clear: both; ">종료</p>
                        <div>
                            <div class="selectbox" style="width: 130px; float: left;">
                                <label for="select_year">YY</label>
                                <select name="year" id="select_year">
                                    <option selected value="none">YY</option>
                                    <option value="01">01</option>
                                    <option value="00">00</option>
                                    <option value="99">99</option>
                                    <option value="98">98</option>
                                    <option value="97">97</option>
                                </select>
                            </div>
                            <div class="selectbox" style="margin-left: 17px; width: 68px; float: left;">
                                <label for="select_month">MM</label>
                                <select name="month" id="select_month">
                                    <option selected value="none">MM</option>
                                    <option value="01">01</option>
                                    <option value="02">02</option>
                                    <option value="03">03</option>
                                    <option value="04">04</option>
                                    <option value="05">05</option>
                                    <option value="06">06</option>
                                    <option value="07">07</option>
                                    <option value="08">08</option>
                                    <option value="09">09</option>
                                    <option value="10">10</option>
                                    <option value="11">11</option>
                                    <option value="12">12</option>
                                </select>
                            </div>
        
                            <div class="selectbox" style="margin-left: 17px; width: 68px; float: left;">
                                <label for="select_day">DD</label>
                                <select name="day" id="select_day">
                                    <option selected value="none">DD</option>
                                    <option value="01">01</option>
                                    <option value="02">02</option>
                                    <option value="03">03</option>
                                    <option value="04">04</option>
                                    <option value="06">05</option>
                                </select>
                            </div>
                        </div>                
                    </div>
                    
        
                </div>         
                
                <div style="text-align: center; clear: left;">  
                    <input type="button" id="cancel" value="취소" class="button" style="background-color: #f7f7f7;" />
                    <input type="button" id="complete" value="저장" class="button" style="background-color: #d8d8d8;" />
                </div> 
            </div>
        </div>               
       
    </body>

    <script>
		//열기, 닫기, 다음 버튼 변수
		var open = document.getElementById("open");
		var close1 = document.getElementById("close");
		var cancel1 = document.getElementById("cancel");
		var complete = document.getElementById("complete");    

        //모달 변수
		var modal1 = document.getElementById("addProject");
        
        //질문 페이지 관련 변수
    
        //madal popup 및 버튼 관련
		open.onclick = () => {
		  modal1.style.display = "flex";
		};
	
		close1.onclick = () => {
		  modal1.style.display = "none";
		};

		cancel1.onclick = () => {
		  modal1.style.display = "none";
		};

		complete.onclick = () => {
			modal1.style.display = "none";
			modal2.style.display = "none";
		}

        //이미지 버튼이 이미지 업로드 할 수 있도록 설정
		window.onload = function() {
               var picture = document.getElementById('picture');
               var uploader = document.getElementById('upImgFile');
   
               picture.onclick=function() {
                    uploader.click();
               }
            };
            
        function uploadImgPreview() {// breif 업로드 파일 읽기
            let fileInfo = document.getElementById("upImgFile").files[0];
            let reader = new FileReader();

            // @details readAsDataURL( )을 통해 파일을 읽어 들일때 onload가 실행
            reader.onload = function() {  
                // @details 파일의 URL을 Base64 형태로 가져온다.
                document.getElementById("thumbnailImg").src = reader.result;
                document.getElementById("thumbnailUrl").innerText = reader.result;
            };			

    	   	if( fileInfo ) {    // @details readAsDataURL( )을 통해 파일의 URL을 읽어온다.
            	reader.readAsDataURL( fileInfo );
           	}
   		}

		</script>

</html>